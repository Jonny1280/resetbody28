
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ–¥–∞–Ω–∏–µ</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter :wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #ff6f00;
      --bg-light: #fff5ec;
      --bg-dark: #1e1e1e;
      --text-light: #333;
      --text-dark: #f9f9f9;
      --accent: #ffe0cc;
    }

    body.dark-mode {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-light);
      color: var(--text-light);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease-in-out;
    }

    .dark-mode .container {
      background: var(--bg-dark);
    }

    .step {
      display: none;
      animation: fadeIn 0.4s ease-in-out;
    }

    .step.active {
      display: block;
      animation: slideInRight 0.4s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideInRight {
      from { transform: translateX(50px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .progress-bar {
      height: 6px;
      background: var(--accent);
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    .progress {
      height: 100%;
      width: 0%;
      background: var(--primary-color);
      transition: width 0.3s ease-in-out;
    }

    h2 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }

    input[type="range"] {
      width: 100%;
    }

    .slider-container {
      margin-bottom: 20px;
      text-align: center;
    }

    .slider-value {
      margin-top: 5px;
      font-weight: bold;
    }

    button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 14px 20px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 20px;
    }

    .lang-switch {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: 1px solid #ccc;
      color: var(--primary-color);
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }

    .dark-toggle {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: none;
      border: 1px solid #ccc;
      color: var(--primary-color);
      padding: 5px 10px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
    }

    .loading {
      width: 50px;
      height: 50px;
      margin: 20px auto;
      border: 5px solid #f3f3f3;
      border-top: 5px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    img.logo {
      display: block;
      margin: 0 auto 20px auto;
      width: 80px;
    }

    .intro p {
      line-height: 1.6;
    }
  </style>
</head>
<body>

<div class="container">

  <img src="https://via.placeholder.com/80x80?text=Logo " alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo">

  <button class="lang-switch" onclick="toggleLang()">EN/RU</button>
  <button class="dark-toggle" onclick="toggleDarkMode()">üåô</button>

  <div class="progress-bar">
    <div class="progress" id="progress"></div>
  </div>

  <form id="multiStepForm">

    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
    <div class="step active intro" data-step="1">
      <h2 id="welcomeTitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
      <p id="welcomeText">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–∏—Ç–∞–Ω–∏—è.</p>
    </div>

    <!-- –®–∞–≥ 1 -->
    <div class="step">
      <h2 id="nameLabel">–í–∞—à–µ –∏–º—è:</h2>
      <input type="text" name="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required/>
    </div>

    <!-- –®–∞–≥ 2 -->
    <div class="step">
      <h2 id="ageLabel">–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç:</h2>
      <input type="number" name="age" placeholder="–°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç?" required/>
    </div>

    <!-- –®–∞–≥ 3 -->
    <div class="step">
      <h2 id="weightLabel">–í–∞—à –≤–µ—Å:</h2>
      <div class="slider-container">
        <input type="range" name="weight" min="40" max="200" value="70" oninput="document.getElementById('weightValue').innerText = this.value + ' –∫–≥'">
        <div class="slider-value" id="weightValue">70 –∫–≥</div>
      </div>
    </div>

    <!-- –®–∞–≥ 4 -->
    <div class="step">
      <h2 id="goalLabel">–ö–∞–∫–∞—è —É –≤–∞—Å —Ü–µ–ª—å?</h2>
      <select name="goal" required>
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å</option>
        <option value="lose">–ü–æ—Ö—É–¥–µ–Ω–∏–µ</option>
        <option value="maintain">–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞</option>
        <option value="gain">–ù–∞–±–æ—Ä –º–∞—Å—Å—ã</option>
      </select>
    </div>

    <!-- –®–∞–≥ 5 -->
    <div class="step">
      <h2 id="activityLabel">–£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:</h2>
      <select name="activity" required>
        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å</option>
        <option value="low">–ú–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–π</option>
        <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
        <option value="high">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
      </select>
    </div>

    <!-- –®–∞–≥ 6 -->
    <div class="step result-step">
      <h2 id="resultLabel">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
      <div class="loading"></div>
      <div class="result" id="finalResult">–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
    </div>

    <div class="buttons">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)">–ù–∞–∑–∞–¥</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">–î–∞–ª–µ–µ</button>
    </div>

  </form>
</div>

<script>
  let currentStep = 1;
  const steps = document.querySelectorAll(".step");
  const totalSteps = steps.length;

  const texts = {
    ru: {
      welcomeTitle: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
      welcomeText: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –ø–∏—Ç–∞–Ω–∏—è.",
      nameLabel: "–í–∞—à–µ –∏–º—è:",
      ageLabel: "–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç:",
      weightLabel: "–í–∞—à –≤–µ—Å:",
      goalLabel: "–ö–∞–∫–∞—è —É –≤–∞—Å —Ü–µ–ª—å?",
      activityLabel: "–£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:",
      resultLabel: "–†–µ–∑—É–ª—å—Ç–∞—Ç"
    },
    en: {
      welcomeTitle: "Welcome!",
      welcomeText: "Fill out a few simple steps to get your personal nutrition plan.",
      nameLabel: "Your name:",
      ageLabel: "Your age:",
      weightLabel: "Your weight:",
      goalLabel: "What is your goal?",
      activityLabel: "Activity level:",
      resultLabel: "Result"
    }
  };

  function localize() {
    document.querySelectorAll("[id^='welcomeTitle']").forEach(el => el.textContent = texts[lang].welcomeTitle);
    document.querySelectorAll("[id^='welcomeText']").forEach(el => el.textContent = texts[lang].welcomeText);
    document.querySelectorAll("[id^='nameLabel']").forEach(el => el.textContent = texts[lang].nameLabel);
    document.querySelectorAll("[id^='ageLabel']").forEach(el => el.textContent = texts[lang].ageLabel);
    document.querySelectorAll("[id^='weightLabel']").forEach(el => el.textContent = texts[lang].weightLabel);
    document.querySelectorAll("[id^='goalLabel']").forEach(el => el.textContent = texts[lang].goalLabel);
    document.querySelectorAll("[id^='activityLabel']").forEach(el => el.textContent = texts[lang].activityLabel);
    document.querySelectorAll("[id^='resultLabel']").forEach(el => el.textContent = texts[lang].resultLabel);
  }

  let lang = "ru";
  function toggleLang() {
    lang = lang === "ru" ? "en" : "ru";
    localize();
  }

  function showStep(n) {
    steps.forEach((step, index) => {
      step.classList.toggle("active", index === n);
    });
    updateProgress();
    toggleButtons(n);
  }

  function nextPrev(n) {
    if (n === 1 && !validateForm()) return false;

    currentStep += n;

    if (currentStep === totalSteps - 1) {
      // –ó–∞–≥—Ä—É–∑–∫–∞
      setTimeout(() => {
        const name = document.forms[0]["name"].value;
        const age = document.forms[0]["age"].value;
        const weight = document.forms[0]["weight"].value;
        const goal = document.forms[0]["goal"].value;
        const activity = document.forms[0]["activity"].value;

        const goals = {
          lose: {"ru": "–ø–æ—Ö—É–¥–µ–Ω–∏—é", "en": "weight loss"},
          maintain: {"ru": "–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—é –≤–µ—Å–∞", "en": "weight maintenance"},
          gain: {"ru": "–Ω–∞–±–æ—Ä—É –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã", "en": "muscle gain"}
        };

        const activities = {
          low: {"ru": "–º–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–π", "en": "sedentary"},
          medium: {"ru": "—Å—Ä–µ–¥–Ω–∏–π", "en": "moderate"},
          high: {"ru": "–≤—ã—Å–æ–∫–∏–π", "en": "active"}
        };

        document.getElementById("finalResult").innerHTML =
          `<strong>${name}</strong>, —Å–ø–∞—Å–∏–±–æ!<br/>–í–∞–º ${age} –ª–µ—Ç.<br/>–í–µ—Å: <strong>${weight} –∫–≥</strong>.<br/>–¶–µ–ª—å: ${goals[goal][lang]}.<br/>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ${activities[activity][lang]}.`;
      }, 1500);
    }

    showStep(currentStep - 1);
  }

  function validateForm() {
    const inputs = document.forms[0].querySelectorAll(":required");
    for (let i = 0; i < inputs.length; i++) {
      if (!inputs[i].value.trim()) {
        alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.");
        return false;
      }
    }
    return true;
  }

  function updateProgress() {
    const percent = (currentStep / totalSteps) * 100;
    document.getElementById("progress").style.width = percent + "%";
  }

  function toggleButtons(step) {
    document.getElementById("prevBtn").style.display = step === 0 ? "none" : "inline-block";
    document.getElementById("nextBtn").innerText = step === totalSteps - 1 ? "–ó–∞–≤–µ—Ä—à–∏—Ç—å" : "–î–∞–ª–µ–µ";
  }

  function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");
  }

  showStep(0);
</script>

</body>
</html>
